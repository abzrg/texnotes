%- Title
\title{Continuum Mechanics}
\author{Ali Bozorgzadeh}
\date{}


% --------------------------------------------- % -------------------------------------------- %

\usepackage{imakeidx}
\makeindex

%- Hyperref

\usepackage[pdftex,bookmarks=true,colorlinks,allcolors=myblue,linktoc=page]{hyperref}

% Nicer (long) footnotes
\makeatletter
\def\footlabel{%
  %\edef\@currentlabel{\thefootnote}%
  \edef\@currentHref{footnote.\the\c@footnote}%
  \raisebox{\baselineskip}[0pt]{\hypertarget{\@currentHref}{}}% adjust aim up
  \label}
\makeatother
%
% Example:
%
% \begin{figure}[H]
% Test of a caption with two footnote
% \caption[figure]{% no \protect needed with short caption [figure] in use
% \footref{A} first footnote.
% \footref{B} second footnote.}
% \end{figure}
%
% ...
%
% \stepcounter{footnote}%
% \footnotetext{\footlabel{A}first reference footnote}
% \stepcounter{footnote}%
% \footnotetext{\footlabel{B}second footnote }


% --------------------------------------------- % -------------------------------------------- %

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% \usepackage{mlmodern}
\usepackage{fix-cm}

% Always load it
\usepackage[activate={true,nocompatibility},final,tracking=true,kerning=true,spacing=false,factor=1100,stretch=10,shrink=10]{microtype}
\AtBeginEnvironment{verbatim}{\microtypesetup{activate=false}} % To avoid problems with verbatim-areas



% --------------------------------------------- % -------------------------------------------- %

\usepackage{globalvals}
\usepackage[top=2cm,bottom=2cm,left=2cm,right=6cm,marginparwidth=4.25cm, marginparsep=0.75cm]{geometry}
\usepackage[fulladjust]{marginnote}
\renewcommand*{\marginfont}{\strut\footnotesize}
\usepackage[svgnames,dvipsnames,usenames]{xcolor}
\usepackage[english]{babel}
\usepackage{enumitem}
\usepackage{caption}
\usepackage{float}
\definecolor{myred}{HTML}{a51d1e}
\definecolor{myblue}{HTML}{3139ae}
\definecolor{myblack}{HTML}{000000}
\definecolor{mylightblue}{HTML}{e9e9f2}
\usepackage{bookmark}
\usepackage{url}
\usepackage{booktabs} % \renewcommand{\arraystretch}{1.2} % (or 1.3)
\usepackage{multicol}
\usepackage{mdframed}
\usepackage{calc}
\usepackage{tcolorbox}
\newtcbox{\mybox}[1][]{on line, size=tight, sharp corners, colback=white, #1}
% \usepackage{lipsum}


\newcommand{\xqed}[1]{%
  \leavevmode\unskip\penalty9999 \hbox{}\nobreak\hfill
  \quad\hbox{\ensuremath{#1}}}

\AtBeginEnvironment{example}{\stepcounter{example}}
\AtEndEnvironment{example}{\xqed{\blacksquare}}

\newmdenv[
  hidealllines=true,
  frametitle={Example~\theexample},
  frametitlerule=true,
  frametitlerulecolor=black,
  frametitlerulewidth=2pt,
  frametitlefont=\bfseries,
  innerleftmargin=0pt,
  innerrightmargin=0pt
]{example}

\newcounter{example}[chapter]
\renewcommand\theexample{\thechapter-\arabic{example}}


% --------------------------------------------- % -------------------------------------------- %

\usepackage{tikz}
\usetikzlibrary{tikzmark,arrows.meta, bending, chains}

\usepackage{graphicx}
\graphicspath{{./figures}}
\usepackage[%
	% reduce the empty space above the caption
	% https://tex.stackexchange.com/a/45996/220469
	%\setlength{\abovecaptionskip}{-3pt plus 0pt minus 0pt}
	% or
	%
	skip=2pt,%
	% also make the caption label bold
	labelfont=bf]{caption}

% Figure support for Inkscape
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
	\def\svgwidth{\columnwidth}
	\import{./figures/}{#1.pdf_tex}
}

\makeatletter
\newcommand*{\centerfloat}{%
  \parindent \z@
  \leftskip \z@ \@plus 1fil \@minus \textwidth
  \rightskip\leftskip
  \parfillskip \z@skip}
\makeatother

% --------------------------------------------- % -------------------------------------------- %


\usepackage{amsfonts,amssymb,amsthm,mathtools}
\usepackage{textcomp}
\usepackage{dsfont}
\usepackage{resizegather}
\usepackage{xfrac}

\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}
\newcommand{\degree}{\ensuremath{^\circ\,}}
\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\newcommand{\f}{\frac}
\newcommand{\nf}{\sfrac}
\newcommand{\tr}[1]{\mathrm{Tr}\left({#1}\right)}
\newcommand{\T}{^{\mathsf{T}}}

\renewcommand{\d}{\mathop{}\!\mathrm{d}}
\ifdefined\D
  \renewcommand{\D}{\mathop{}\!\mathrm{D}}
\else
  \newcommand{\D}{\mathop{}\!\mathrm{D}}
\fi

\newcommand{\deltaop}{\mathop{}\!\delta}
\newcommand{\p}{\partial}
\newcommand{\rmm}{\mathrm}
\newcommand{\mr}{\mathrm}
\newcommand{\mclap}{\mathclap}

\usepackage{mleftright}
\newcommand{\Real}[2][]{\ensuremath{\mathop{}\!\Re^{#1}\mleft(#2\mright)}}
\newcommand{\Imag}[2][]{\ensuremath{\mathop{}\!\Im^{#1}\mleft(#2\mright)}}

\newcommand{\U}{\mathbf{U}}
\newcommand{\E}{\mathbf{E}}
\newcommand{\F}{\mathbf{F}}
\newcommand{\gammadot}{\dot{\gamma}}
\newcommand{\ee}{\mb{e}}
\newcommand{\zerotensor}{\bm{\mathsf{0}}}
\newcommand{\I}{\bm{\mathsf I}}  % identity tensor

\newcommand{\LMom}{\mb{P}}
\newcommand{\AMom}{\mb{H}}

\newcommand{\ul}{\underline}

\newcommand{\dxdy}[2]{\frac{\d #1}{\d #2}}
\newcommand{\pdxdy}[2]{\frac{\partial #1}{\partial #2}}

\newcommand{\ddt}[1]{\dxdy{#1}{t}}
\newcommand{\pddt}[1]{\pdxdy{#1}{t}}

\newcommand{\ngrad}{\mathop{}\!\nabla}
\newcommand{\grad}{\mathop{}\!\text{grad}}
\newcommand{\Grad}{\mathop{}\!\text{Grad}}

\newcommand{\crossprod}{\mathbin{\times}}

\newcommand{\curl}{\mathop{}\!\text{curl}\crossprod}
\newcommand{\Curl}{\mathop{}\!\text{Curl}\crossprod}
\newcommand{\ncurl}{\mathop{}\!\nabla\mathbin{\cdot}}

\newcommand{\ndiv}{\mathop{}\!\nabla\mathbin{\cdot}}
\renewcommand{\div}{\mathop{}\!\text{div}\,}
\newcommand{\Div}{\mathop{}\!\text{Div}\,}

% \newcommand{\mb}{\mathbf}
% \newcommand{\mbg}[1]{\boldsymbol{\mathbf{#1}}}
\newcommand{\mb}{\bm}
\newcommand{\mbg}[1]{\bm{#1}}

\usepackage{bbm}
\usepackage{bm}
\DeclareMathAlphabet{\mathsfit}{T1}{\sfdefault}{\mddefault}{\sldefault}
\SetMathAlphabet{\mathsfit}{bold}{T1}{\sfdefault}{\bfdefault}{\sldefault}
\newcommand{\mbt}[1]{\bm{\mathsfit{#1}}}

% Put x \to \infty below \lim
\let\svlim\lim\def\lim{\svlim\limits}

%Make implies and impliedby shorter
\let\implies\Rightarrow
\let\impliedby\Leftarrow
\let\iff\Leftrightarrow

% Swap epsilon and varepsilon
\let\epsilonOld\epsilon
\let\epsilon\varepsilon   %<------- epsilon == varepsilon
\let\varepsilon\epsilonOld

% Add \contra symbol to denote contradiction
\usepackage{stmaryrd} % for \lightning
\SetSymbolFont{stmry}{bold}{U}{stmry}{m}{n}
\newcommand\contra{\scalebox{1.5}{$\lightning$}}

% Fancy script capitals
\usepackage{mathrsfs}

% Cancel terms
\usepackage{cancel}
\newcommand\Ccancel[2][black]{\renewcommand\CancelColor{\color{#1}}\cancel{#2}}
\newcommand\Cbcancel[2][black]{\renewcommand\CancelColor{\color{#1}}\bcancel{#2}}

% Theorem environments
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{remark}{Remark}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]


% \newtheoremstyle{example}{}{}{}{se.qu}{\bfseries}{. }{0pt}{}
% \theoremstyle{example}
% \newtheorem{example}{Example}




\newtheoremstyle{deff}{}{}{}{}{\bfseries}{. }{0pt}{}
\theoremstyle{deff}
\newtheorem*{deff}{Definition}

% Small underbrace
\makeatletter
\def\smallunderbrace#1{\mathop{\vtop{\m@th\ialign{##\crcr
				$\hfil\displaystyle{#1}\hfil$\crcr
				\noalign{\kern3\p@\nointerlineskip}%
				\tiny\upbracefill\crcr\noalign{\kern3\p@}}}}\limits}
\makeatother

% Absolute value and norm function
\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%
% Swap the definition of \abs* and \norm*, so that \abs
% and \norm resizes the size of the brackets, and the
% starred version does not.
\makeatletter
\let\oldabs\abs
\def\abs{\@ifstar{\oldabs}{\oldabs*}}
%
\let\oldnorm\norm
\def\norm{\@ifstar{\oldnorm}{\oldnorm*}}
\makeatother


%- Bibliography
% \usepackage[square,numbers]{natbib}
% \bibliographystyle{unsrtnat}


%% Clever reference (must be after hyperref and amsmath)
\usepackage{cleveref}
\Crefname{equation}{Eq.}{Eqs.}
\Crefname{figure}{Fig.}{Figs.}
% \Crefname{tabular}{Tab.}{Tabs.}


%% Deal with the annoying overfull hbox non-sense
\tolerance=1000
\hbadness=10000
\emergencystretch=\maxdimen
\hyphenpenalty=1000
\hfuzz=0.1pt


%% Units
\usepackage{siunitx}
\DeclareSIUnit\sm{\mathrm{S}}  % siemens

